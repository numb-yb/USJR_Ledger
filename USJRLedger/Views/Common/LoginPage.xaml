<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="USJRLedger.Views.Common.LoginPage"
             Title="USJR Ledger"
             BackgroundColor="#f5f5f7">

    <ScrollView>
        <Grid Padding="25" VerticalOptions="Center" MaximumWidthRequest="500">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Logo and Header -->
            <Image Grid.Row="0"
                   MinimumWidthRequest="200"
                   MinimumHeightRequest="130"
                   Source="usjr_logo.png"
                   HeightRequest="130"
                   HorizontalOptions="Center"
                   VerticalOptions="Center">
                <Image.Shadow>
                    <Shadow Brush="#22000000"
                            Offset="0,4"
                            Radius="8" />
                </Image.Shadow>
            </Image>

            <VerticalStackLayout Grid.Row="1"
                     Spacing="0"
                     HorizontalOptions="Center"
                     Margin="0,0,0,30">
                <Label Text="USJR ORGANIZATION"
                       FontSize="22"
                       FontAttributes="Bold"
                       TextColor="#008000"
                       HorizontalTextAlignment="Center" />
                <Label Text="LEDGER"
                       FontSize="22"
                       FontAttributes="Bold"
                       TextColor="#008000"
                       HorizontalTextAlignment="Center" />
            </VerticalStackLayout>

            <!-- Login Form -->
            <Frame Grid.Row="2"
                   BackgroundColor="White"
                   CornerRadius="12"
                   HasShadow="True"
                   Padding="20"
                   Margin="0,0,0,25">
                <VerticalStackLayout Spacing="18">

                    <!-- Username Entry -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Username"
                               FontSize="14"
                               TextColor="#666666"
                               Margin="8,0,0,0"/>
                        <Border StrokeShape="RoundRectangle 10"
                                Stroke="#e0e0e0"
                                StrokeThickness="1"
                                BackgroundColor="#f9f9f9">
                            <Grid ColumnDefinitions="Auto,*" Padding="15,0">
                                <Image Grid.Column="0"
                                       Source="user_icon.png"
                                       HeightRequest="20"
                                       WidthRequest="20"
                                       VerticalOptions="Center"
                                       Margin="0,0,10,0"/>
                                <Entry Grid.Column="1"
                                       x:Name="UsernameEntry"
                                       Placeholder="Enter your username"
                                       PlaceholderColor="#bdbdbd"
                                       TextColor="#333333"
                                       BackgroundColor="Transparent"
                                       VerticalOptions="Center"
                                       HeightRequest="50"/>
                            </Grid>
                        </Border>
                    </VerticalStackLayout>

                    <!-- Password Entry -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Password"
           FontSize="14"
           TextColor="#666666"
           Margin="8,0,0,0"/>

                        <Border StrokeShape="RoundRectangle 10"
            Stroke="#e0e0e0"
            StrokeThickness="1"
            BackgroundColor="#f9f9f9">

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15,0">
                                <!-- Lock Icon -->
                                <Image Grid.Column="0"
                   Source="lock_icon.png"
                   HeightRequest="20"
                   WidthRequest="20"
                   VerticalOptions="Center"
                   Margin="0,0,10,0"/>

                                <!-- Password Entry -->
                                <Entry Grid.Column="1"
                   x:Name="PasswordEntry"
                   Placeholder="Enter your password"
                   PlaceholderColor="#bdbdbd"
                   TextColor="#333333"
                   IsPassword="True"
                   BackgroundColor="Transparent"
                   VerticalOptions="Center"
                   HeightRequest="50"/>

                                <!-- Show/Hide Password Button -->
                                <ImageButton Grid.Column="2"
                         x:Name="TogglePasswordButton"
                         Source="eye_closed.png"
                         HeightRequest="20"
                         WidthRequest="20"
                         BackgroundColor="Transparent"
                         VerticalOptions="Center"
                         Clicked="OnTogglePasswordClicked"/>
                            </Grid>
                        </Border>
                    </VerticalStackLayout>

                </VerticalStackLayout>
            </Frame>

            <!-- Login Button -->
            <Border Grid.Row="3"
                    StrokeShape="RoundRectangle 12"
                    HeightRequest="55"
                    Margin="0,0,0,10">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#008000" Offset="0.0" />
                        <GradientStop Color="DarkSeaGreen" Offset="1.0" />
                    </LinearGradientBrush>
                </Border.Background>
                <Button x:Name="LoginButton"
                        Text="LOGIN"
                        Clicked="OnLoginClicked"
                        FontAttributes="Bold"
                        FontSize="16"
                        BackgroundColor="Transparent"
                        TextColor="White"
                        HorizontalOptions="Fill"
                        VerticalOptions="Fill"/>
            </Border>

            <!-- Forgot Password Label -->
            <Label Grid.Row="4"
                   Text="Forgot Password?"
                   TextColor="#008000"
                   FontAttributes="Bold"
                   FontSize="14"
                   HorizontalOptions="Center"
                   Margin="0,5,0,0">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnForgotPasswordTapped" />
                </Label.GestureRecognizers>
            </Label>

            <!-- Status Label -->
            <Label Grid.Row="5"
                   x:Name="StatusLabel"
                   HorizontalOptions="Center"
                   TextColor="#d32f2f"
                   FontSize="14"
                   Margin="0,5,0,0"/>

            <!-- Footer -->
            <Label Grid.Row="6"
                   Text="Â© 2025 University of San Jose-Recoletos"
                   HorizontalOptions="Center"
                   TextColor="#9e9e9e"
                   FontSize="12"
                   Margin="0,25,0,0"/>
        </Grid>
    </ScrollView>
</ContentPage>
