<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="USJRLedger.Views.Common.ResetPasswordPage"
             Title="Reset Password"
             BackgroundColor="#f5f5f7">

    <ScrollView>
        <Grid Padding="25" VerticalOptions="Center" MaximumWidthRequest="500">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Logo and Header -->
            <Image Grid.Row="0"
                   MinimumWidthRequest="200"
                   MinimumHeightRequest="130"
                   Source="usjr_logo.png"
                   HeightRequest="130"
                   HorizontalOptions="Center"
                   VerticalOptions="Center">
                <Image.Shadow>
                    <Shadow Brush="#22000000"
                            Offset="0,4"
                            Radius="8" />
                </Image.Shadow>
            </Image>

            <Label Grid.Row="1"
                   Padding="20"
                   Text="Reset Your Password"
                   HorizontalOptions="Center"
                   FontSize="26"
                   FontAttributes="Bold"
                   TextColor="#008000"
                   Margin="0,0,0,30" />

            <!-- Reset Form Card -->
            <Frame Grid.Row="2"
                   BackgroundColor="White"
                   CornerRadius="12"
                   HasShadow="True"
                   Padding="20"
                   Margin="0,0,0,25">
                <VerticalStackLayout Spacing="18">

                    <!-- Username -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Username"
                               FontSize="14"
                               TextColor="#666666"
                               Margin="8,0,0,0" />
                        <Border StrokeShape="RoundRectangle 10"
                                Stroke="#e0e0e0"
                                StrokeThickness="1"
                                BackgroundColor="#f9f9f9">
                            <Grid ColumnDefinitions="Auto,*" Padding="15,0">
                                <Image Grid.Column="0"
                                       Source="user_icon.png"
                                       HeightRequest="20"
                                       WidthRequest="20"
                                       VerticalOptions="Center"
                                       Margin="0,0,10,0" />
                                <Entry Grid.Column="1"
                                       x:Name="UsernameEntry"
                                       Placeholder="Enter your username"
                                       PlaceholderColor="#bdbdbd"
                                       TextColor="#333333"
                                       BackgroundColor="Transparent"
                                       VerticalOptions="Center"
                                       HeightRequest="50" />
                            </Grid>
                        </Border>
                    </VerticalStackLayout>

                    <!-- New Password -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="New Password"
                               FontSize="14"
                               TextColor="#666666"
                               Margin="8,0,0,0" />
                        <Border StrokeShape="RoundRectangle 10"
                                Stroke="#e0e0e0"
                                StrokeThickness="1"
                                BackgroundColor="#f9f9f9">
                            <Grid ColumnDefinitions="Auto,*" Padding="15,0">
                                <Image Grid.Column="0"
                                       Source="lock_icon.png"
                                       HeightRequest="20"
                                       WidthRequest="20"
                                       VerticalOptions="Center"
                                       Margin="0,0,10,0" />
                                <Entry Grid.Column="1"
                                       x:Name="NewPasswordEntry"
                                       Placeholder="Enter new password"
                                       PlaceholderColor="#bdbdbd"
                                       TextColor="#333333"
                                       IsPassword="True"
                                       BackgroundColor="Transparent"
                                       VerticalOptions="Center"
                                       HeightRequest="50" />
                            </Grid>
                        </Border>
                    </VerticalStackLayout>

                    <!-- Confirm Password -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Confirm Password"
                               FontSize="14"
                               TextColor="#666666"
                               Margin="8,0,0,0" />
                        <Border StrokeShape="RoundRectangle 10"
                                Stroke="#e0e0e0"
                                StrokeThickness="1"
                                BackgroundColor="#f9f9f9">
                            <Grid ColumnDefinitions="Auto,*" Padding="15,0">
                                <Image Grid.Column="0"
                                       Source="lock_icon.png"
                                       HeightRequest="20"
                                       WidthRequest="20"
                                       VerticalOptions="Center"
                                       Margin="0,0,10,0" />
                                <Entry Grid.Column="1"
                                       x:Name="ConfirmPasswordEntry"
                                       Placeholder="Confirm new password"
                                       PlaceholderColor="#bdbdbd"
                                       TextColor="#333333"
                                       IsPassword="True"
                                       BackgroundColor="Transparent"
                                       VerticalOptions="Center"
                                       HeightRequest="50" />
                            </Grid>
                        </Border>
                    </VerticalStackLayout>

                </VerticalStackLayout>
            </Frame>

            <!-- Reset Button -->
            <Border Grid.Row="3"
                    StrokeShape="RoundRectangle 12"
                    HeightRequest="55"
                    Margin="0,0,0,20">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#008000" Offset="0.0" />
                        <GradientStop Color="DarkSeaGreen" Offset="1.0" />
                    </LinearGradientBrush>
                </Border.Background>
                <Button Text="RESET PASSWORD"
                        Clicked="OnResetPasswordClicked"
                        FontAttributes="Bold"
                        FontSize="16"
                        BackgroundColor="Transparent"
                        TextColor="White"
                        HorizontalOptions="Fill"
                        VerticalOptions="Fill" />
            </Border>

            <!-- Status Label -->
            <Label Grid.Row="4"
                   x:Name="StatusLabel"
                   HorizontalOptions="Center"
                   TextColor="#d32f2f"
                   FontSize="14"
                   Margin="0,5,0,0" />

            <!-- Back to Login -->
            <Label Grid.Row="5"
                   Text="Back to Login"
                   TextColor="#008000"
                   FontAttributes="Bold"
                   FontSize="14"
                   HorizontalOptions="Center"
                   Margin="0,15,0,0">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnBackToLoginTapped" />
                </Label.GestureRecognizers>
            </Label>
        </Grid>
    </ScrollView>
</ContentPage>
