<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="USJRLedger.Views.Adviser.AdviserDashboardPage"
             Title="Adviser Dashboard">

    <Grid Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <VerticalStackLayout Grid.Row="0" Spacing="20" Margin="0,0,0,20">
            <Label x:Name="WelcomeLabel" FontSize="24" FontAttributes="Bold" />
            <Label x:Name="OrganizationLabel" FontSize="18" FontAttributes="Bold" />

            <!-- Navigation Buttons -->
            <Grid x:Name="ButtonGrid">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button Text="View Organization" Clicked="OnViewOrgProfileClicked"
                        Grid.Row="0" Grid.Column="0" Margin="6,4" FontSize="14" CornerRadius="8" />
                <Button Text="Manage Officers" Clicked="OnManageOfficersClicked"
                        Grid.Row="0" Grid.Column="1" Margin="6,4" FontSize="14" CornerRadius="8" />
                <Button Text="School Year" Clicked="OnSchoolYearClicked"
                        Grid.Row="0" Grid.Column="2" Margin="6,4" FontSize="14" CornerRadius="8" />
                <Button Text="Expense Requests" Clicked="OnExpenseRequestsClicked"
                        Grid.Row="0" Grid.Column="3" Margin="6,4" FontSize="14" CornerRadius="8" />
                <Button Text="Income Requests" Clicked="OnIncomeRequestsClicked"
                        Grid.Row="1" Grid.Column="0" Margin="6,4" FontSize="14" CornerRadius="8" />
                <Button Text="Events" Clicked="OnEventsClicked"
                        Grid.Row="1" Grid.Column="1" Margin="6,4" FontSize="14" CornerRadius="8" />
                <Button Text="Logout" Clicked="OnLogoutClicked"
                        Grid.Row="1" Grid.Column="2" Margin="6,4"
                        FontSize="14" CornerRadius="8"
                        BackgroundColor="DarkRed" TextColor="White" />
            </Grid>
        </VerticalStackLayout>

        <!-- Summary Section using Border instead of Frame -->
        <Grid Grid.Row="1" Margin="0,10,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Stroke="Gray" StrokeThickness="1" Padding="10" Margin="5">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="6" />
                </Border.StrokeShape>
                <VerticalStackLayout>
                    <Label Text="Current Balance" FontSize="16" FontAttributes="Bold" />
                    <Label x:Name="BalanceLabel" FontSize="20" TextColor="Green" />
                </VerticalStackLayout>
            </Border>

            <Border Grid.Column="1" Stroke="Gray" StrokeThickness="1" Padding="10" Margin="5">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="6" />
                </Border.StrokeShape>
                <VerticalStackLayout>
                    <Label Text="Pending Expenses" FontSize="16" FontAttributes="Bold" />
                    <Label x:Name="PendingExpensesLabel" FontSize="20" TextColor="Orange" />
                </VerticalStackLayout>
            </Border>

            <Border Grid.Column="2" Stroke="Gray" StrokeThickness="1" Padding="10" Margin="5">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="6" />
                </Border.StrokeShape>
                <VerticalStackLayout>
                    <Label Text="Pending Income" FontSize="16" FontAttributes="Bold" />
                    <Label x:Name="PendingIncomeLabel" FontSize="20" TextColor="Green" />
                </VerticalStackLayout>
            </Border>

            <Border Grid.Column="3" Stroke="Gray" StrokeThickness="1" Padding="10" Margin="5">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="6" />
                </Border.StrokeShape>
                <VerticalStackLayout>
                    <Label Text="School Year Status" FontSize="16" FontAttributes="Bold" />
                    <Label x:Name="SchoolYearStatusLabel" FontSize="20" />
                </VerticalStackLayout>
            </Border>
        </Grid>

        <!-- Notifications (CollectionView + Border items) -->
        <Border Grid.Row="2" Stroke="Gray" StrokeThickness="1" Padding="10" Margin="0">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="6" />
            </Border.StrokeShape>
            <VerticalStackLayout>
                <Label Text="Notifications" FontSize="20" FontAttributes="Bold" Margin="0,0,0,10" />
                <CollectionView x:Name="NotificationListView" SelectionMode="None" EmptyView="No pending requests.">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Border Stroke="LightGray" StrokeThickness="1" Padding="10" Margin="4">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="6" />
                                </Border.StrokeShape>
                                <VerticalStackLayout>
                                    <Label Text="{Binding Detail}" FontAttributes="Bold" />
                                    <Label Text="{Binding DateString}" FontSize="12" TextColor="Gray" />
                                </VerticalStackLayout>
                            </Border>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </VerticalStackLayout>
        </Border>
    </Grid>
</ContentPage>
